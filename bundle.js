(()=>{"use strict";var e={424:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(81),a=r.n(n),i=r(645),o=r.n(i),s=r(667),c=r.n(s),l=new URL(r(355),r.b),f=o()(a()),u=c()(l);f.push([e.id,'@font-face {\n  font-family: "PressStart2P";\n  src: url('+u+");\n}\n\nhtml,\nbody {\n  background-color: #272b30;\n  margin: 0;\n}\n\n#github {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n#canvas {\n  max-width: 500px;\n  width: 100%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n",""]);const d=f},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var f=[].concat(e[l]);n&&o[f[0]]||(void 0!==i&&(void 0===f[5]||(f[1]="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {").concat(f[1],"}")),f[5]=i),r&&(f[2]?(f[1]="@media ".concat(f[2]," {").concat(f[1],"}"),f[2]=r):f[2]=r),a&&(f[4]?(f[1]="@supports (".concat(f[4],") {").concat(f[1],"}"),f[4]=a):f[4]="".concat(a)),t.push(f))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},o=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],f=i[l]||0,u="".concat(l," ").concat(f);i[l]=f+1;var d=r(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var h=a(p,n);n.byIndex=s,t.splice(s,0,{identifier:u,updater:h,references:1})}o.push(u)}return o}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var i=n(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=r(i[o]);t[s].references--}for(var c=n(e,a),l=0;l<i.length;l++){var f=r(i[l]);0===t[f].references&&(t[f].updater(),t.splice(f,1))}i=c}}},569:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},355:(e,t,r)=>{e.exports=r.p+"5f45b52192a301cb8ccd.ttf"},247:(e,t,r)=>{e.exports=r.p+"edb30e59a0a192144da5.png"},496:(e,t,r)=>{e.exports=r.p+"6ff1bb526c5f53603f5f.png"},819:(e,t,r)=>{e.exports=r.p+"3282f18a9f5fbb412a27.png"},769:(e,t,r)=>{e.exports=r.p+"9c9cf8b15326b0e424b0.png"},420:(e,t,r)=>{e.exports=r.p+"a3561cc01dc44644ee84.png"},715:(e,t,r)=>{e.exports=r.p+"434e99b0ae1ebbed72bb.png"},217:(e,t,r)=>{e.exports=r.p+"7bdfa3713f4ba94f26d3.png"},30:(e,t,r)=>{e.exports=r.p+"ed9f20b785526dc26bb2.png"},837:(e,t,r)=>{e.exports=r.p+"295677352f3d91f36f24.png"}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.p="",r.b=document.baseURI||self.location.href,(()=>{var e=document.getElementById("canvas"),t=e.getContext("2d");function n(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function a(e){var t;return Array.isArray(e)&&(t=e[n(0,e.length-1)]),t}function i(e,t,r,n,a,i){return e>r&&e<r+a&&t>n&&t<n+i}function o(e,t,r){return(e-t)/(r-t)}function s(e){return JSON.parse(JSON.stringify(e))}var c,l,f,u,d,p=r(247),h=r(496),v=r(819),g=r(769),b=r(420),y=r(715),m=r(217),w=r(30),x=r(837);function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=new Image;T.src=p;var O=new Image;O.src=h;var I=new Image;I.src=v;var N=new Image;N.src=y;var A=new Image;A.src=m;var P=new Image;P.src=g;var H=new Image;H.src=b;var E=new Image;E.src=w;var B=new Image;B.src=x;var R=(S(c={},1,T),S(c,2,O),S(c,3,I),c),M=(S(l={},1,N),S(l,2,A),l),k=(S(d={},2,(S(f={},1,P),S(f,2,H),f)),S(d,1,(S(u={},1,E),S(u,2,B),u)),d);function C(){var e={};if((arguments.length<=0?void 0:arguments[0])instanceof Object){var t=arguments.length<=0?void 0:arguments[0];e.rows=t.rows,e.cols=t.cols,e.data=t.data}else e.rows=arguments.length<=0?void 0:arguments[0],e.cols=arguments.length<=1?void 0:arguments[1],e.data=new Array(e.rows).fill().map((function(){return new Array(e.cols).fill(0)}));return e}function j(e,t){if(t instanceof Object){if(e.cols!==t.rows)throw Error("Columns of A must match rows of B");return L(C(e.rows,t.cols),(function(r,n,a){for(var i=0,o=0;o<e.cols;o++)i+=e.data[n][o]*t.data[o][a];return i}))}return L(C(e.rows,e.cols),(function(r,n,a){return e.data[n][a]*t}))}function D(e,t){if(t instanceof Object){if(e.rows!==t.rows||e.cols!==t.cols)throw Error("Columns and Rows of A must match Columns and Rows of B");return L(C(e.rows,t.cols),(function(r,n,a){return e.data[n][a]+t.data[n][a]}))}return L(C(e.rows,e.cols),(function(r,n,a){return e.data[n][a]+t}))}function U(e){return L(e,(function(){return 2*Math.random()-1}))}function L(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.cols;n++){var a=e.data[r][n];e.data[r][n]=t(a,r,n)}return e}function J(){var e={};if((arguments.length<=0?void 0:arguments[0])instanceof Object){var t=arguments.length<=0?void 0:arguments[0];e.inputNodes=t.inputNodes,e.hiddenNodes=t.hiddenNodes,e.outputNodes=t.outputNodes,e.weightsIH=t.weightsIH,e.weightsHO=t.weightsHO,e.biasH=t.biasH,e.biasO=t.biasO}else e.inputNodes=arguments.length<=0?void 0:arguments[0],e.hiddenNodes=arguments.length<=1?void 0:arguments[1],e.outputNodes=arguments.length<=2?void 0:arguments[2],e.weightsIH=C(e.hiddenNodes,e.inputNodes),e.weightsHO=C(e.outputNodes,e.hiddenNodes),e.biasH=C(e.hiddenNodes,1),e.biasO=C(e.outputNodes,1),e.weightsIH=U(e.weightsIH),e.weightsHO=U(e.weightsHO),e.biasH=U(e.biasH),e.biasO=U(e.biasO);return e}function Z(e,t){if(e.inputNodes!==t.inputNodes||e.hiddenNodes!==t.hiddenNodes||e.outputNodes!==t.outputNodes)throw Error("Number of nodes in A and B must match");return J({weightsIH:L(e.weightsIH,(function(e,r,n){return a([e,t.weightsIH.data[r][n]])})),weightsHO:L(e.weightsHO,(function(e,r,n){return a([e,t.weightsHO.data[r][n]])})),biasH:L(e.biasH,(function(e,r,n){return a([e,t.biasH.data[r][n]])})),biasO:L(e.biasO,(function(e,r,n){return a([e,t.biasO.data[r][n]])})),inputNodes:e.inputNodes,hiddenNodes:e.hiddenNodes,outputNodes:e.outputNodes})}function _(e){return 1/(1+Math.exp(-e))}function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,r=e.y,n=e.dy,a=e.color,i=e.wing,o=e.brain,c={};return c.color=a||2,c.wing=i||2,c.x=t||50,c.y=r||50,c.dy=n||0,c.brain=o?s(o):J(5,8,2),c.distance=0,c.fitness=0,c}function V(e){e.dy+=.25,e.y+e.dy>0&&(e.y+=e.dy),e.distance+=1}function G(e){t.drawImage(k[e.color][e.wing],e.x,e.y,28,42)}function Q(t,r){for(var n=null,a=Number.POSITIVE_INFINITY,i=0;i<r.length;i++){var s=r[i].x-t.x;s>0&&s<a&&(a=s,n=r[i])}if(null!=n){var c=[],l=n.x-t.x,f=n.y-t.y;c[0]=o(t.y,0,e.height),c[1]=1-c[0],c[2]=o(l,0,e.width),c[3]=2===n.type?c[0]:o(f+272,0,e.height),c[4]=2===n.type?o(f,0,e.height):c[1];var u=function(e,t){var r,n=L(C((r=t).length,1),(function(e,t){return r[t]})),a=j(e.weightsIH,n);a=L(a=D(a,e.biasH),_);var i=j(e.weightsHO,a);return function(e){for(var t=[],r=0;r<e.rows;r++)for(var n=0;n<e.cols;n++)t.push(e.data[r][n]);return t}(i=L(i=D(i,e.biasO),_))}(t.brain,c);u[1]>u[0]&&Y(t)}}function Y(e){e.dy=-5,e.wing=1,setTimeout((function(){e.wing=2}),80)}function q(e){!function(e){for(var t=0;t<e.length;t++)e[t].distance=Math.pow(e[t].distance,2);for(var r=0,n=0;n<e.length;n++)r+=e[n].distance;for(var a=0;a<e.length;a++)e[a].fitness=e[a].distance/r}(e);var t=function(e){for(var t=[],r=0;r<e.length;r++)for(var n=100*e[r].fitness,a=0;a<n;a++)t.push(e[r]);return t}(e);return function(e){for(var t=[],r=0;r<500;r++){var n=(o=a(e),s=a(e),F({brain:Z(o.brain,s.brain),color:a([o.color,s.color])}));i=$,function(e,t){e.weightsIH=L(e.weightsIH,t),e.weightsHO=L(e.weightsHO,t),e.biasH=L(e.biasH,t),e.biasO=L(e.biasO,t)}(n.brain,i),t.push(n)}var i,o,s;return t}(t)}function $(e){return Math.random()<.1?e+.5*Math.random():e}function K(t){if(t.y>e.height+10)return!0;for(var r=0;r<X.pipes.length;r++)if(n=t.x+4,a=t.y+4,24,38,i=X.pipes[r].x,o=X.pipes[r].y,32,272,!(n+24<i||i+32<n||a+38<o||o+272<a))return!0;var n,a,i,o;return!1}function W(e){switch(e){case 1:case 4:X.activeScreen=2;break;case 2:z(),X.activeScreen=2;break;case 5:z(),X.activeScreen=1;break;case 3:X.activeScreen=4;break;case 7:t=JSON.stringify(X),localStorage.setItem("state",t),alert("State successfully saved!");break;case 6:!function(){var e=localStorage.getItem("state");e?(X=JSON.parse(e),alert("State successfully loaded!")):alert("State was not found!")}();break;case 8:X.mode=1===X.mode?2:1;break;case 9:Y(X.playerBird)}var t}var X={score:0,generation:1,bestScore:localStorage.getItem("bestScore")||0,bestDistance:0,mode:1,activeScreen:1,playerBird:F(),liveBirds:function(){for(var e=[],t=0;t<500;t++){var r=F({color:1});e.push(r)}return e}(),deadBirds:[],clouds:[],pipes:[]};function z(){X.score=0,X.playerBird.x=50,X.playerBird.y=50,X.playerBird.dy=0,X.clouds=[],X.pipes=[]}function ee(e){e.x-=1}function te(e){e.x-=2}function re(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ne(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const ae=function(){var r;t.fillStyle="#3cbcfc",t.fillRect(0,0,e.width,e.height),function(){if(X.clouds.length<5){var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,i=t.y,o=t.type,s={};return s.x=r||e.width+n(10,500),s.y=i||n(30,e.height-30),s.type=o||a([1,2,3]),s}();X.clouds.push(r)}for(var i=0;i<X.clouds.length;i++)o=X.clouds[i],t.drawImage(R[o.type],o.x,o.y),ee(X.clouds[i]),X.clouds[i].x<-50&&X.clouds.splice(i,1);var o}(),function(){if(X.pipes.length<5){var r=void 0;X.pipes.length>0&&(r=X.pipes[X.pipes.length-1].x+n(200,400));var i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.x,i=t.y,o=t.type,s={};if(s.type=o||a([1,2]),s.x=r||e.width+n(10,500),i)s.y=i;else{var c=2===s.type?e.height-272:-100,l=2===s.type?e.height-172:0;s.y=n(c,l)}return s}({x:r});X.pipes.push(i)}for(var o=0;o<X.pipes.length;o++)s=X.pipes[o],t.drawImage(M[s.type],s.x,s.y),te(X.pipes[o]),X.pipes[o].x<-50&&(X.score+=1,X.pipes.splice(o,1));var s}(),t.font="14px PressStart2P",t.fillStyle="white",t.fillText("SCORE:".concat(X.score),10,10),t.font="14px PressStart2P",t.fillStyle="#f7dc6f",t.fillText("PAUSE",420,10),1===X.mode?(G(X.playerBird),V(X.playerBird),K(X.playerBird)&&(X.activeScreen=3,X.score>X.bestScore&&(r=X.score,X.bestScore=r,localStorage.setItem("bestScore",r)))):(t.font="14px PressStart2P",t.fillStyle="white",t.fillText("BEST-DISTANCE:".concat(X.bestDistance),10,26),t.fillText("GENERATION:".concat(X.generation),10,42),t.fillText("ALIVE:".concat(X.liveBirds.length,"/").concat(500),10,58),function(){for(var e=0;e<X.liveBirds.length;e++){var t;G(X.liveBirds[e]),V(X.liveBirds[e]),Q(X.liveBirds[e],X.pipes),K(X.liveBirds[e])&&(t=X.deadBirds).push.apply(t,re(X.liveBirds.splice(e,1))),0===X.liveBirds.length&&(X.generation+=1,X.bestDistance=Math.max.apply(Math,re(X.deadBirds.map((function(e){return e.distance}))).concat([X.bestDistance])),X.liveBirds=q(X.deadBirds),X.deadBirds=[],z())}}())};var ie=r(379),oe=r.n(ie),se=r(795),ce=r.n(se),le=r(569),fe=r.n(le),ue=r(565),de=r.n(ue),pe=r(216),he=r.n(pe),ve=r(589),ge=r.n(ve),be=r(424),ye={};ye.styleTagTransform=ge(),ye.setAttributes=de(),ye.insert=fe().bind(null,"head"),ye.domAPI=ce(),ye.insertStyleElement=he(),oe()(be.Z,ye),be.Z&&be.Z.locals&&be.Z.locals,document.body.onkeyup=function(e){if(2===X.activeScreen){if("Space"==e.code)return W(9);if("Escape"==e.code)return W(3)}},e.onclick=function(t){var r=t.offsetX/e.offsetWidth*e.width,n=t.offsetY/e.offsetHeight*e.height;switch(X.activeScreen){case 1:if(i(r,n,132,230,224,36))return W(8);if(i(r,n,190,300,120,24))return W(1);break;case 2:if(i(r,n,420,10,80,14))return W(3);W(9);break;case 3:if(i(r,n,166,250,168,24))return W(2);if(i(r,n,202,290,96,24))return W(5);break;case 4:if(i(r,n,178,180,144,24))return W(4);if(i(r,n,130,220,240,24))return W(7);if(i(r,n,130,260,240,24))return W(6);if(i(r,n,202,296,96,24))return W(5)}},function r(){switch(X.activeScreen){case 1:t.textBaseline="top",t.fillStyle="#3196ca",t.fillRect(0,0,e.width,e.height),t.fillStyle="white",t.font="72px PressStart2P",t.fillText("NEAT",110,60),t.font="56px PressStart2P",t.fillText("KOOPA",110,128),t.font="28px PressStart2P",t.fillText("PARATROOPA",110,182),t.fillStyle="#f7dc6f",t.font="16px PressStart2P",t.fillText("".concat(1===X.mode?">":" ","STANDARD MODE"),130,230),t.fillText("".concat(2===X.mode?">":" ","TRAINING MODE"),130,250),t.font="24px PressStart2P",t.fillText("START",190,300);break;case 2:ae();break;case 4:t.textBaseline="top",t.fillStyle="#3196ca",t.fillRect(0,0,e.width,e.height),t.fillStyle="white",t.font="44px PressStart2P",t.fillText("PAUSED",118,100),t.fillStyle="#f7dc6f",t.font="24px PressStart2P",t.fillText("RESUME",178,180),t.fillText("SAVE STATE",130,220),t.fillText("LOAD STATE",130,260),t.fillText("QUIT",202,300);break;case 3:t.textBaseline="top",t.fillStyle="#3196ca",t.fillRect(0,0,e.width,e.height),t.fillStyle="white",t.font="44px PressStart2P",t.fillText("GAME OVER",52,100),t.font="16px PressStart2P",t.fillText("YOUR SCORE",58,170),t.fillText(X.score,58,190),t.fillText("BEST SCORE",280,170),t.fillText(X.bestScore,280,190),t.fillStyle="#f7dc6f",t.font="24px PressStart2P",t.fillText("RESTART",166,250),t.fillText("QUIT",202,290)}requestAnimationFrame(r)}()})()})();